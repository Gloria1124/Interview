## 前提
1. JavaScript是单线程语言
2. JS有一个主线程及执行栈，所有的任务都会在执行栈中等待主线程执行。
3. 同步任务会在执行栈中按顺序等待主线程执行，异步任务会在异步任务有了结果以后，将注册的回调函数放到任务队列中等待主线程空闲时（执行栈被清空），被读取到栈内等待主线程执行。

## 事件循环
执行栈在同步任务执行完毕后，查看执行栈是否为空，若执行栈为空，就会去检查微任务队列是否为空，若不为空就一次性执行完所有微任务，
若为空则去检查宏任务队列。取宏任务队列的首个任务执行，每次执行完毕后会去查看微任务队列是否为空，若不为空则执行完全部微任务，若为空则继续执行一个宏任务。

## 宏任务，微任务
### 宏任务
setTimeout,setInterval
### 微任务
Promise的then，catch，finally（**new Promise在实例化的过程中所执行的代码都是同步的，而then中注册的回调才是异步的**）  
MutationObserver




